(this.webpackJsonplabegostoso=this.webpackJsonplabegostoso||[]).push([[0],{107:function(t,e,n){"use strict";n.r(e);var i,a,c,r,o,l,s,j,d,u,x,b,h,m,O,p,g,f,v,w,y,k,S,C,B=n(0),T=n.n(B),R=n(11),W=n.n(R),I=n(16),F=n(13),q=function(t){t.push("/login")},z=function(t){t.push("/")},E=function(){var t=Object(F.f)();Object(B.useLayoutEffect)((function(){localStorage.getItem("token")||q(t)}),[t])},L=n(7),A=n(8),D=A.a.div(i||(i=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n"]))),N=A.a.div(a||(a=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),J=A.a.div(c||(c=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),P=A.a.div(r||(r=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 10vh;\n"]))),_=n(157),M=n(145),U=n(39),G=n(51),H=function(t){var e=Object(B.useState)(t),n=Object(I.a)(e,2),i=n[0],a=n[1];return[i,function(t){var e=t.target,n=e.value,c=e.name;a(Object(G.a)(Object(G.a)({},i),{},Object(U.a)({},c,n)))},function(){a(t)}]},K=n(30),Q=n.n(K),V="https://cookenu-api.herokuapp.com",X=n(146),Y=n(2),Z=function(){var t=H({title:"",description:"",image:""}),e=Object(I.a)(t,3),n=e[0],i=e[1],a=e[2],c=Object(B.useState)(!1),r=Object(I.a)(c,2),o=r[0],l=r[1];return Object(Y.jsx)("form",{onSubmit:function(t){t.preventDefault(),function(t,e,n){n(!0),Q.a.post("".concat(V,"/recipe"),t,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){alert(t.data.message),e(),n(!1)})).catch((function(t){alert(t.response.message),n(!1)}))}(n,a,l)},children:Object(Y.jsxs)(J,{children:[Object(Y.jsxs)(N,{children:[Object(Y.jsx)(_.a,{name:"title",value:n.title,onChange:i,label:"T\xedtulo",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0,margin:"normal"}),Object(Y.jsx)(_.a,{name:"description",value:n.description,onChange:i,label:"Descri\xe7\xe3o",variant:"outlined",fullWidth:!0,required:!0,margin:"normal"}),Object(Y.jsx)(_.a,{name:"image",value:n.image,onChange:i,label:"Foto",variant:"outlined",fullWidth:!0,required:!0,margin:"normal"})]}),Object(Y.jsx)(M.a,{color:"primary",variant:"contained",type:"submit",fullWidth:!0,children:o?Object(Y.jsx)(X.a,{color:"inherit",size:24}):Object(Y.jsx)(Y.Fragment,{children:"Adicionar Receita"})})]})})},$=n(147),tt=function(){return E(),Object(Y.jsx)(D,{children:Object(Y.jsxs)(P,{children:[Object(Y.jsx)($.a,{gutterBottom:!0,variant:"h4",align:"center",color:"textPrimary",children:"Adicionar Nova Receita"}),Object(Y.jsx)(Z,{})]})})},et=A.a.div(o||(o=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  margin-top: 10vh;\n"]))),nt=A.a.div(l||(l=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),it=A.a.div(s||(s=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),at=A.a.div(j||(j=Object(L.a)(["\n  width: 80vw;\n  max-width: 450px;\n"]))),ct=A.a.img(d||(d=Object(L.a)(["\n  width: 70vw;\n  max-width: 350px;\n"]))),rt=n.p+"static/media/logo.ccf93a6e.png",ot=function(t){var e=t.setRightButtonText,n=H({email:"",password:""}),i=Object(I.a)(n,3),a=i[0],c=i[1],r=i[2],o=Object(F.f)(),l=Object(B.useState)(!1),s=Object(I.a)(l,2),j=s[0],d=s[1];return Object(Y.jsx)(it,{children:Object(Y.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(t,e,n,i,a){a(!0),Q.a.post("".concat(V,"/user/login"),t).then((function(t){localStorage.setItem("token",t.data.token),e(),a(!1),z(n),i("Logout")})).catch((function(t){a(!1),alert(t.response.data.message)}))}(a,r,o,e,d)},children:[Object(Y.jsxs)(nt,{children:[Object(Y.jsx)(_.a,{name:"email",value:a.email,onChange:c,label:"E-mail",variant:"outlined",fullWidth:!0,margin:"normal",required:!0,type:"email"}),Object(Y.jsx)(_.a,{name:"password",value:a.password,onChange:c,label:"Senha",variant:"outlined",fullWidth:!0,margin:"normal",required:!0,type:"password"})]}),Object(Y.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:j?Object(Y.jsx)(X.a,{color:"inherit",size:24}):Object(Y.jsx)(Y.Fragment,{children:"Fazer Login"})})]})})},lt=function(){var t=Object(F.f)();Object(B.useLayoutEffect)((function(){localStorage.getItem("token")&&z(t)}),[t])},st=function(t){var e=t.setRightButtonText;lt();var n=Object(F.f)();return Object(Y.jsxs)(et,{children:[Object(Y.jsx)(ct,{src:rt}),Object(Y.jsx)(ot,{setRightButtonText:e}),Object(Y.jsx)(at,{children:Object(Y.jsx)(M.a,{onClick:function(){return function(t){t.push("/cadastro")}(n)},type:"submit",fullWidth:!0,variant:"text",color:"primary",children:"N\xe3o possui conta? Cadastre-se"})})]})},jt=function(t,e){var n=Object(B.useState)(t),i=Object(I.a)(n,2),a=i[0],c=i[1];return Object(B.useEffect)((function(){Q.a.get(e,{headers:{Authorization:localStorage.getItem("token")}}).then((function(t){c(t.data)})).catch((function(t){console.log(t),alert("Ocorreu um erro, tente novamente")}))}),[e]),a},dt=A.a.img(u||(u=Object(L.a)(["\n  width: 60vw;\n  max-width: 600px;\n  min-width: 300px;\n  border-radius: 10px;\n  margin-bottom: 20px;\n"]))),ut=A.a.div(x||(x=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 30px;\n"]))),xt=A.a.div(b||(b=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 60vw;\n  max-width: 600px;\n  min-width: 300px;\n"]))),bt=A.a.div(h||(h=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  height: 80vh;\n"]))),ht=function(){return Object(Y.jsx)(bt,{children:Object(Y.jsx)(X.a,{})})},mt=function(){E();var t=Object(F.g)(),e=jt([],"".concat(V,"/recipe/").concat(t.id))[0];return Object(Y.jsx)(ut,{children:e?Object(Y.jsxs)(xt,{children:[Object(Y.jsx)(dt,{src:e.image}),Object(Y.jsx)($.a,{gutterBottom:!0,align:"center",variant:"h5",color:"primary",children:e.title}),Object(Y.jsx)($.a,{align:"center",children:e.description})]}):Object(Y.jsx)(ht,{})})},Ot=n(150),pt=n(151),gt=n(148),ft=n(149),vt=Object(A.a)(gt.a)(m||(m=Object(L.a)(["\n  width: 250px;\n  margin: 10px\n"]))),wt=Object(A.a)(ft.a)(O||(O=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 40px;\n"]))),yt=function(t){return Object(Y.jsx)(vt,{onClick:t.onClick,children:Object(Y.jsxs)(Ot.a,{children:[Object(Y.jsx)(pt.a,{component:"img",alt:t.title,height:"150px",image:t.image,title:t.title}),Object(Y.jsx)(wt,{children:Object(Y.jsx)($.a,{align:"center",children:t.title.toUpperCase()})})]})})},kt=n(152),St=A.a.div(p||(p=Object(L.a)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin: 30px;\n"]))),Ct=Object(A.a)(kt.a)(g||(g=Object(L.a)(["\n  position: fixed !important;\n  right: 20px;\n  bottom: 20px;\n  z-index: 3;\n"]))),Bt=n(153),Tt=function(){E();var t=Object(F.f)(),e=jt([],"".concat(V,"/recipe/feed")),n=e.map((function(e){return Object(Y.jsx)(yt,{title:e.title,image:e.image,onClick:function(){return n=e.recipe_id,void function(t,e){t.push("/detalhe/".concat(e))}(t,n);var n}},e.recipe_id)}));return Object(Y.jsxs)(St,{children:[n.length>0?n:Object(Y.jsx)(ht,{}),Object(Y.jsx)(Ct,{color:"primary",onClick:function(){return function(t){t.push("/adicionar-receita")}(t)},children:Object(Y.jsx)(Bt.a,{})})]})},Rt=A.a.div(f||(f=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  margin-top: 10vh;\n"]))),Wt=A.a.div(v||(v=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),It=A.a.div(w||(w=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n  max-width: 450px;\n  align-items: center;\n  margin-bottom: 20px;\n"]))),Ft=A.a.img(y||(y=Object(L.a)(["\n  width: 70vw;\n  max-width: 350px;\n"]))),qt=function(t){var e=t.setRightButtonText,n=Object(F.f)(),i=H({name:"",email:"",password:""}),a=Object(I.a)(i,3),c=a[0],r=a[1],o=a[2],l=Object(B.useState)(!1),s=Object(I.a)(l,2),j=s[0],d=s[1];return Object(Y.jsx)("form",{onSubmit:function(t){t.preventDefault(),function(t,e,n,i,a){a(!0),Q.a.post("".concat(V,"/user/signup"),t).then((function(t){localStorage.setItem("token",t.data.token),e(),a(!1),z(n),i("Logout")})).catch((function(t){a(!1),alert(t.response.data.message)}))}(c,o,n,e,d)},children:Object(Y.jsxs)(It,{children:[Object(Y.jsxs)(Wt,{children:[Object(Y.jsx)(_.a,{value:c.name,name:"name",onChange:r,label:"Nome",variant:"outlined",fullWidth:!0,required:!0,autoFocus:!0,margin:"normal"}),Object(Y.jsx)(_.a,{value:c.email,name:"email",onChange:r,label:"E-mail",variant:"outlined",type:"email",fullWidth:!0,required:!0,margin:"normal"}),Object(Y.jsx)(_.a,{value:c.password,name:"password",onChange:r,label:"Senha",variant:"outlined",type:"password",fullWidth:!0,required:!0,margin:"normal"})]}),Object(Y.jsx)(M.a,{color:"primary",variant:"contained",type:"submit",fullWidth:!0,children:j?Object(Y.jsx)(X.a,{color:"inherit",size:24}):Object(Y.jsx)(Y.Fragment,{children:"Fazer Cadastro"})})]})})},zt=function(t){var e=t.setRightButtonText;return lt(),Object(Y.jsxs)(Rt,{children:[Object(Y.jsx)(Ft,{src:rt}),Object(Y.jsx)(qt,{setRightButtonText:e})]})},Et=n.p+"static/media/error.4d5bd16e.png",Lt=A.a.div(k||(k=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin: 20px;\n"]))),At=A.a.img(S||(S=Object(L.a)(["\n  width: 64vw;\n  max-width: 450px;\n"]))),Dt=function(){return Object(Y.jsxs)(Lt,{children:[Object(Y.jsx)(At,{src:Et}),Object(Y.jsx)($.a,{color:"primary",variant:"h4",align:"center",children:"Erro 404 - P\xe1gina N\xe3o Encontrada"})]})},Nt=function(t){var e=t.setRightButtonText;return Object(Y.jsxs)(F.c,{children:[Object(Y.jsx)(F.a,{exact:!0,path:"/login",children:Object(Y.jsx)(st,{setRightButtonText:e})}),Object(Y.jsx)(F.a,{exact:!0,path:"/cadastro",children:Object(Y.jsx)(zt,{setRightButtonText:e})}),Object(Y.jsx)(F.a,{exact:!0,path:"/",children:Object(Y.jsx)(Tt,{})}),Object(Y.jsx)(F.a,{exact:!0,path:"/adicionar-receita",children:Object(Y.jsx)(tt,{})}),Object(Y.jsx)(F.a,{exact:!0,path:"/detalhe/:id",children:Object(Y.jsx)(mt,{})}),Object(Y.jsx)(F.a,{children:Object(Y.jsx)(Dt,{})})]})},Jt=n(73),Pt=Object(Jt.a)({palette:{primary:{main:"#F27649",contrastText:"white"},text:{primary:"#474749"}}}),_t=n(156),Mt=n(21),Ut=n(155),Gt=n(154),Ht=Object(A.a)(Gt.a)(C||(C=Object(L.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n"]))),Kt=function(t){var e=t.rightButtonText,n=t.setRightButtonText,i=localStorage.getItem("token"),a=Object(F.f)();return Object(Y.jsx)(Ut.a,{position:"static",children:Object(Y.jsxs)(Ht,{children:[Object(Y.jsx)(M.a,{onClick:function(){return z(a)},color:"inherit",children:"Cookenu"}),Object(Y.jsx)(M.a,{onClick:function(){i?(localStorage.removeItem("token"),n("Login"),q(a)):q(a)},color:"inherit",children:e})]})})},Qt=function(){var t=localStorage.getItem("token"),e=Object(B.useState)(t?"Logout":"Login"),n=Object(I.a)(e,2),i=n[0],a=n[1];return Object(Y.jsx)(_t.a,{theme:Pt,children:Object(Y.jsxs)(Mt.a,{children:[Object(Y.jsx)(Kt,{rightButtonText:i,setRightButtonText:a}),Object(Y.jsx)(Nt,{setRightButtonText:a})]})})};W.a.render(Object(Y.jsx)(T.a.StrictMode,{children:Object(Y.jsx)(Qt,{})}),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.09ab9380.chunk.js.map